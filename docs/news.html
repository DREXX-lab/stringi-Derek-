<!DOCTYPE html>


<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>What Is New in stringi &mdash; stringi</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  

  
  

  
    <link rel="canonical" href="https://stringi.gagolewski.com/news.html" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installing stringi" href="install.html" />
    <link rel="prev" title="stri_write_lines: Write Text Lines to a Text File" href="rapi/stri_write_lines.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> stringi
          

          
          </a>

          
            
            
              <div class="version">
                1.6.2.9007
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">stringi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stringi.gagolewski.com/_static/vignette/stringi.pdf">Paper (Draft)</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rapi.html">R Package <em>stringi</em> Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/stringi">Source Code (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/stringi/issues">Bug Tracker and Feature Suggestions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cran.r-project.org/web/packages/stringi/">CRAN Entry</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author's Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/ExampleRcppStringi">C++ API — Rcpp Example</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">What Is New in <em>stringi</em></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xxx-to-be-1-6-3-2021-xx-yy">1.6.2.9xxx (to-be &gt;= 1.6.3) (2021-xx-yy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.6.2 (2021-05-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">1.6.1 (2021-05-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">1.5.3 (2020-09-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">1.4.6 (2020-02-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">1.4.5 (2020-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">1.4.4 (2020-01-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">1.4.3 (2019-03-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">1.3.1 (2019-02-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">1.2.4 (2018-07-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">1.2.3 (2018-05-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">1.2.2 (2018-05-01)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">1.1.7 (2018-03-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">1.1.6 (2017-11-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">1.1.5 (2017-04-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id15">1.1.3 (2017-03-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">1.1.2 (2016-09-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id17">1.1.1 (2016-05-25)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id18">1.0-1 (2015-10-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id19">0.5-5 (2015-06-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id20">0.5-2 (2015-06-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id21">0.4-1 (2014-12-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id22">0.3-1 (2014-11-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id23">0.2-5 (2014-05-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id24">0.2-4 (2014-05-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id25">0.2-3 (2014-05-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id26">0.1-25 (2014-03-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id27">0.1-24 (2014-03-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id28">0.1-23 (2014-03-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id29">0.1-22 (2014-02-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id30">0.1-21 (2014-02-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id31">0.1-20 (2014-02-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id32">0.1-11 (2013-11-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id33">0.1-10 (2013-11-13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id34">0.1-6 (2013-07-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id35">0.1-1 (2013-01-05)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing <em>stringi</em></a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stringi</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>What Is New in <em>stringi</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Installing stringi" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="rapi/stri_write_lines.html" class="btn btn-neutral float-left" title="stri_write_lines: Write Text Lines to a Text File" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-is-new-in-stringi">
<h1>What Is New in <em>stringi</em><a class="headerlink" href="#what-is-new-in-stringi" title="Permalink to this headline">¶</a></h1>
<div class="section" id="xxx-to-be-1-6-3-2021-xx-yy">
<h2>1.6.2.9xxx (to-be &gt;= 1.6.3) (2021-xx-yy)<a class="headerlink" href="#xxx-to-be-1-6-3-2021-xx-yy" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[DOCUMENTATION] It has been clarified that the syntax of <code class="docutils literal notranslate"><span class="pre">*_charclass</span></code>
(e.g., used in <code class="docutils literal notranslate"><span class="pre">stri_trim*</span></code>) differs slightly form regex character
classes.</p></li>
<li><p>[NEW FEATURE] #420: <code class="docutils literal notranslate"><span class="pre">stri_sprintf</span></code> (alias: <code class="docutils literal notranslate"><span class="pre">stri_string_format</span></code>)
is a Unicode-aware replacement for and enhancement of the base <code class="docutils literal notranslate"><span class="pre">sprintf</span></code>:
it adds a customised handling of <code class="docutils literal notranslate"><span class="pre">NA</span></code>s (on demand), computing field size
based on code point width, outputting substrings of at most given width,
variable width and precision (both at the same time), etc. Moreover,
<code class="docutils literal notranslate"><span class="pre">stri_printf</span></code> can be used to display formatted strings conveniently.</p></li>
<li><p>[NEW FEATURE] #438: <code class="docutils literal notranslate"><span class="pre">stri_trans_general</span></code> now supports rule-based
as well as reverse-direction transliteration.</p></li>
<li><p>[NEW FEATURE] #434: <code class="docutils literal notranslate"><span class="pre">stri_datetime_format</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_datetime_parse</span></code>
are now vectorised also with respect to the <code class="docutils literal notranslate"><span class="pre">format</span></code> argument.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_datetime_fstr</span></code> has a new argument, <code class="docutils literal notranslate"><span class="pre">ignore_special</span></code>,
which defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> for backward compatibility.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_datetime_format</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_datetime_add</span></code>, and
<code class="docutils literal notranslate"><span class="pre">stri_datetime_fields</span></code> now call <code class="docutils literal notranslate"><span class="pre">as.POSIXct</span></code> more eagerly.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_trim*</span></code> now have a new argument, <code class="docutils literal notranslate"><span class="pre">negate</span></code>.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_replace_rstr</span></code> converts <code class="docutils literal notranslate"><span class="pre">gsub</span></code>-style replacement strings
to <code class="docutils literal notranslate"><span class="pre">stri_replace</span></code>-style.</p></li>
<li><p>[BACKWARD INCOMPATIBILITY] <code class="docutils literal notranslate"><span class="pre">%s$%</span></code> and <code class="docutils literal notranslate"><span class="pre">%stri$%</span></code> now use <code class="docutils literal notranslate"><span class="pre">stri_sprintf</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">base::sprintf</span></code>.</p></li>
<li><p>[INTERNAL] <code class="docutils literal notranslate"><span class="pre">stri_prepare_arg*</span></code>s have been refactored, buffer overruns
in the exception handling subsystem are now avoided.</p></li>
<li><p>[BUGFIX] Few functions (<code class="docutils literal notranslate"><span class="pre">stri_length</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_enc_toutf32</span></code>, etc.)
did not throw an exception on an invalid UTF-8
byte sequence (and merely issues a warning instead).</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_datetime_fstr</span></code> did not honour <code class="docutils literal notranslate"><span class="pre">NA_character_</span></code>
and did not parse format strings such as <code class="docutils literal notranslate"><span class="pre">&quot;%Y%m%d&quot;</span></code> correctly.
It has now been completely rewritten (in C).</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_sprintf</span></code> did not propagate missing values in
width/precision args passed via <code class="docutils literal notranslate"><span class="pre">*</span></code>. Also, <code class="docutils literal notranslate"><span class="pre">na_string</span></code> has not been
trimmed to the desired width in formatters like <code class="docutils literal notranslate"><span class="pre">&quot;%.1s&quot;</span></code>.</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_wrap</span></code> did not recognise the width of certain Unicode sequences
correctly.</p></li>
</ul>
</div>
<div class="section" id="id1">
<h2>1.6.2 (2021-05-14)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BACKWARD INCOMPATIBILITY] In <code class="docutils literal notranslate"><span class="pre">stri_enc_list()</span></code>,
<code class="docutils literal notranslate"><span class="pre">simplify</span></code> now defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
<li><p>[NEW FEATURE] #425: The outputs of <code class="docutils literal notranslate"><span class="pre">stri_enc_list()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_locale_list()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_timezone_list()</span></code>, and <code class="docutils literal notranslate"><span class="pre">stri_trans_list()</span></code> are now sorted.</p></li>
<li><p>[NEW FEATURE] #428: In <code class="docutils literal notranslate"><span class="pre">stri_flatten</span></code>, <code class="docutils literal notranslate"><span class="pre">na_empty=NA</span></code> now omits missing values.</p></li>
<li><p>[BUILD TIME] #431: Pre-4.9.0 GCC has <code class="docutils literal notranslate"><span class="pre">::max_align_t</span></code>,
but not <code class="docutils literal notranslate"><span class="pre">std::max_align_t</span></code>, added a (possible) workaround, see the <code class="docutils literal notranslate"><span class="pre">INSTALL</span></code>
file.</p></li>
<li><p>[BUGFIX] #429: <code class="docutils literal notranslate"><span class="pre">stri_width()</span></code> misclassified the width of certain
code points (including grave accent, Eszett, etc.);
General category <em>Sk</em> (Symbol, modifier) is no longer of width 0,
<code class="docutils literal notranslate"><span class="pre">UCHAR_EAST_ASIAN_WIDTH</span></code> of <code class="docutils literal notranslate"><span class="pre">U_EA_AMBIGUOUS</span></code> is no longer of width 2.</p></li>
<li><p>[BUGFIX] #354: <code class="docutils literal notranslate"><span class="pre">ALTREP</span></code> <code class="docutils literal notranslate"><span class="pre">CHARSXP</span></code>s were not copied, and thus could have been
garbage collected in the so-called meanwhile (with thanks to &#64;jimhester).</p></li>
</ul>
</div>
<div class="section" id="id2">
<h2>1.6.1 (2021-05-05)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[GENERAL] #401: stringi is now bundled with ICU4C 69.1 (upgraded from 61.1),
which is used on most Windows and OS X builds as well as on *nix systems
not equipped with system ICU. However, if the C++11 support is disabled,
stringi will be built against the battle-tested ICU4C 55.1.
The update to ICU brings Unicode 13.0 and CLDR 39 support.</p></li>
<li><p>[DOCUMENTATION] A draft version of a paper on <code class="docutils literal notranslate"><span class="pre">stringi</span></code> is now available at
https://stringi.gagolewski.com/_static/vignette/stringi.pdf</p></li>
<li><p>[GENERAL] stringi now requires R &gt;= 3.1 (<code class="docutils literal notranslate"><span class="pre">CXX_STD</span></code> of <code class="docutils literal notranslate"><span class="pre">CXX11</span></code> or <code class="docutils literal notranslate"><span class="pre">CXX1X</span></code>).</p></li>
<li><p>[NEW FEATURE] #408: <code class="docutils literal notranslate"><span class="pre">stri_trans_casefold()</span></code> performs case folding;
this is different from case mapping, which is locale-dependent.
Folding makes two pieces of text that differ only in case identical.
This can come in handy when comparing strings.</p></li>
<li><p>[NEW FEATURE] #421: <code class="docutils literal notranslate"><span class="pre">stri_rank()</span></code> ranks strings in a character vector
(e.g., for ordering data frames with regards to multiple criteria,
the ranks can be passed to <code class="docutils literal notranslate"><span class="pre">order()</span></code>, see #219).</p></li>
<li><p>[NEW FEATURE] #266: <code class="docutils literal notranslate"><span class="pre">stri_width()</span></code> now supports emojis.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">%s$%</span></code> and <code class="docutils literal notranslate"><span class="pre">%stri$%</span></code> are now vectorised with respect to
both arguments.</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_sort_key()</span></code> now outputs <code class="docutils literal notranslate"><span class="pre">bytes</span></code>-encoded strings.</p></li>
<li><p>[BUGFIX] #415: <code class="docutils literal notranslate"><span class="pre">locale=''</span></code> was not equivalent to <code class="docutils literal notranslate"><span class="pre">locale=NULL</span></code>
in <code class="docutils literal notranslate"><span class="pre">stri_opts_collator()</span></code>.</p></li>
<li><p>[INTERNAL] #414: Use <code class="docutils literal notranslate"><span class="pre">LEVELS(x)</span></code> macro instead of accessing <code class="docutils literal notranslate"><span class="pre">(x)-&gt;sxpinfo.gp</span></code>
directly (&#64;lukaszdaniel).</p></li>
</ul>
</div>
<div class="section" id="id3">
<h2>1.5.3 (2020-09-04)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[DOCUMENTATION] stringi home page has moved to https://stringi.gagolewski.com
and now includes a comprehensive reference manual.</p></li>
<li><p>[NEW FEATURE] #400: <code class="docutils literal notranslate"><span class="pre">%s$%</span></code> and <code class="docutils literal notranslate"><span class="pre">%stri$%</span></code> are now binary operators
that call base R’s <code class="docutils literal notranslate"><span class="pre">sprintf()</span></code>.</p></li>
<li><p>[NEW FEATURE] #399: The <code class="docutils literal notranslate"><span class="pre">%s*%</span></code> and <code class="docutils literal notranslate"><span class="pre">%stri*%</span></code> operators can be used
in addition to <code class="docutils literal notranslate"><span class="pre">stri_dup()</span></code>, for the very same purpose.</p></li>
<li><p>[NEW FEATURE] #355: <code class="docutils literal notranslate"><span class="pre">stri_opts_regex()</span></code> now accepts the <code class="docutils literal notranslate"><span class="pre">time_limit</span></code> and
<code class="docutils literal notranslate"><span class="pre">stack_limit</span></code> options so as to prevent malformed or malicious regexes
from running for too long.</p></li>
<li><p>[NEW FEATURE] #345: <code class="docutils literal notranslate"><span class="pre">stri_startswith()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_endswith()</span></code> are now equipped
with the <code class="docutils literal notranslate"><span class="pre">negate</span></code> parameter.</p></li>
<li><p>[NEW FEATURE] #382: Incorrect regexes are now reported to ease debugging.</p></li>
<li><p>[DEPRECATION WARNING] #347: Any unknown option passed to <code class="docutils literal notranslate"><span class="pre">stri_opts_fixed()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_opts_regex()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_opts_coll()</span></code>, and <code class="docutils literal notranslate"><span class="pre">stri_opts_brkiter()</span></code> now
generates a warning. In the future, the <code class="docutils literal notranslate"><span class="pre">...</span></code> parameter will be removed,
so that will be an error.</p></li>
<li><p>[DEPRECATION WARNING] <code class="docutils literal notranslate"><span class="pre">stri_duplicated()</span></code>’s <code class="docutils literal notranslate"><span class="pre">fromLast</span></code> argument
has been renamed <code class="docutils literal notranslate"><span class="pre">from_last</span></code>. <code class="docutils literal notranslate"><span class="pre">fromLast</span></code> is now its alias scheduled
for removal in a future version of the package.</p></li>
<li><p>[DEPRECATION WARNING] <code class="docutils literal notranslate"><span class="pre">stri_enc_detect2()</span></code>
is scheduled for removal in a future version of the package.
Use <code class="docutils literal notranslate"><span class="pre">stri_enc_detect()</span></code> or the more targeted <code class="docutils literal notranslate"><span class="pre">stri_enc_isutf8()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_enc_isascii()</span></code>, etc., instead.</p></li>
<li><p>[DEPRECATION WARNING] <code class="docutils literal notranslate"><span class="pre">stri_read_lines()</span></code>,  <code class="docutils literal notranslate"><span class="pre">stri_write_lines()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_read_raw()</span></code>: use <code class="docutils literal notranslate"><span class="pre">con</span></code> argument instead of <code class="docutils literal notranslate"><span class="pre">fname</span></code> now.
The argument <code class="docutils literal notranslate"><span class="pre">fallback_encoding</span></code> is scheduled for removal and is no longer
used. <code class="docutils literal notranslate"><span class="pre">stri_read_lines()</span></code> does not support <code class="docutils literal notranslate"><span class="pre">encoding=&quot;auto&quot;</span></code> anymore.</p></li>
<li><p>[DEPRECATION WARNING] <code class="docutils literal notranslate"><span class="pre">nparagraphs</span></code> in <code class="docutils literal notranslate"><span class="pre">stri_rand_lipsum()</span></code> has been renamed
<code class="docutils literal notranslate"><span class="pre">n_paragraphs</span></code>.</p></li>
<li><p>[NEW FEATURE] #398: Alternative, British spelling of function parameters
has been introduced, e.g., <code class="docutils literal notranslate"><span class="pre">stri_opts_coll()</span></code> now supports both
<code class="docutils literal notranslate"><span class="pre">normalization</span></code> and <code class="docutils literal notranslate"><span class="pre">normalisation</span></code>.</p></li>
<li><p>[NEW FEATURE] #393: <code class="docutils literal notranslate"><span class="pre">stri_read_bin()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_read_lines()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">stri_write_lines()</span></code> are no longer marked as draft API.</p></li>
<li><p>[NEW FEATURE] #187: <code class="docutils literal notranslate"><span class="pre">stri_read_bin()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_read_lines()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">stri_write_lines()</span></code> now support connection objects as well.</p></li>
<li><p>[NEW FEATURE] #386: New function <code class="docutils literal notranslate"><span class="pre">stri_sort_key()</span></code> for generating
locale-dependent sort keys which can be ordered at the byte level and
return an equivalent ordering to the original string (&#64;DavisVaughan).</p></li>
<li><p>[BUGFIX] #138: <code class="docutils literal notranslate"><span class="pre">stri_encode()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_rand_strings()</span></code>
now can generate strings of much larger lengths.</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> did not honour <code class="docutils literal notranslate"><span class="pre">indent</span></code> correctly when
<code class="docutils literal notranslate"><span class="pre">use_width</span></code> was <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id4">
<h2>1.4.6 (2020-02-17)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BACKWARD INCOMPATIBILITY] #369: <code class="docutils literal notranslate"><span class="pre">stri_c()</span></code> now returns an empty string
when input is empty and <code class="docutils literal notranslate"><span class="pre">collapse</span></code> is set.</p></li>
<li><p>[BUGFIX] #370: fixed an issue in <code class="docutils literal notranslate"><span class="pre">stri_prepare_arg_POSIXct()</span></code>
reported by rchk.</p></li>
<li><p>[DOCUMENTATION] #372: documented arguments not in <code class="docutils literal notranslate"><span class="pre">\usage</span></code> in
documentation object <code class="docutils literal notranslate"><span class="pre">stri_datetime_format</span></code>: <code class="docutils literal notranslate"><span class="pre">...</span></code></p></li>
</ul>
</div>
<div class="section" id="id5">
<h2>1.4.5 (2020-01-11)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] #366: fix for #363 required ICU &gt;= 55 .</p></li>
</ul>
</div>
<div class="section" id="id6">
<h2>1.4.4 (2020-01-06)<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] #348: Avoid copying 0 bytes to a nil-buffer in <code class="docutils literal notranslate"><span class="pre">stri_sub_all()</span></code>.</p></li>
<li><p>[BUGFIX] #362: Removed <code class="docutils literal notranslate"><span class="pre">configure</span></code> variable <code class="docutils literal notranslate"><span class="pre">CXXCPP</span></code> as it is now deprecated.</p></li>
<li><p>[BUGFIX] #318: PROTECTing objects from gcing as reported by <code class="docutils literal notranslate"><span class="pre">rchk</span></code>.</p></li>
<li><p>[BUGFIX] #344, #364: Removed compiler warnings in icu61/common/cstring.h.</p></li>
<li><p>[BUGFIX] #363: Status of <code class="docutils literal notranslate"><span class="pre">RegexMatcher</span></code> is now checked after its use.</p></li>
</ul>
</div>
<div class="section" id="id7">
<h2>1.4.3 (2019-03-12)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[NEW FEATURE] #30: New function <code class="docutils literal notranslate"><span class="pre">stri_sub_all()</span></code> - a version of
<code class="docutils literal notranslate"><span class="pre">stri_sub()</span></code> accepting list <code class="docutils literal notranslate"><span class="pre">from</span></code>/<code class="docutils literal notranslate"><span class="pre">to</span></code>/<code class="docutils literal notranslate"><span class="pre">length</span></code> arguments for extracting
multiple substrings from each string in a character vector.</p></li>
<li><p>[NEW FEATURE] #30: New function <code class="docutils literal notranslate"><span class="pre">stri_sub_all&lt;-()</span></code> (and its <code class="docutils literal notranslate"><span class="pre">%&lt;%</span></code>-friendly
version, <code class="docutils literal notranslate"><span class="pre">stri_sub_replace_all()</span></code>) - for replacing multiple substrings
with corresponding replacement strings.</p></li>
<li><p>[NEW FEATURE] In <code class="docutils literal notranslate"><span class="pre">stri_sub_replace()</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code> parameter
has a new alias, <code class="docutils literal notranslate"><span class="pre">replacement</span></code>.</p></li>
<li><p>[NEW FEATURE] New convenience functions based on <code class="docutils literal notranslate"><span class="pre">stri_remove_empty()</span></code>:
<code class="docutils literal notranslate"><span class="pre">stri_omit_empty_na()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_remove_empty_na()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_omit_empty()</span></code>,
and also <code class="docutils literal notranslate"><span class="pre">stri_remove_na()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_omit_na()</span></code>.</p></li>
<li><p>[BUGFIX] #343: <code class="docutils literal notranslate"><span class="pre">stri_trans_char()</span></code> did not yield correct results
for overlapping pattern and replacement strings.</p></li>
<li><p>[WARNFIX] #205: <code class="docutils literal notranslate"><span class="pre">configure.ac</span></code> is now included in the source bundle.</p></li>
</ul>
</div>
<div class="section" id="id8">
<h2>1.3.1 (2019-02-10)<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BACKWARD INCOMPATIBILITY] #335: A fix to #314 prevented (by design) the use
of the system ICU if the library had been compiled with <code class="docutils literal notranslate"><span class="pre">U_CHARSET_IS_UTF8=1</span></code>.
However, this is the default setting in <code class="docutils literal notranslate"><span class="pre">libicu</span></code>&gt;=61. From now on, in such
cases the system ICU is used more eagerly, but <code class="docutils literal notranslate"><span class="pre">stri_enc_set()</span></code> issues
a warning stating that the default (UTF-8) encoding cannot be changed.</p></li>
<li><p>[NEW FEATURE] #232: All <code class="docutils literal notranslate"><span class="pre">stri_detect_*</span></code> functions now have the <code class="docutils literal notranslate"><span class="pre">max_count</span></code>
argument that allows for, e.g., stopping at the first pattern occurrence.</p></li>
<li><p>[NEW FEATURE] #338: <code class="docutils literal notranslate"><span class="pre">stri_sub_replace()</span></code> is now an alias for <code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code>
which makes it much more easily pipable (&#64;yutannihilation, &#64;BastienFR).</p></li>
<li><p>[NEW FEATURE] #334: Added missing <code class="docutils literal notranslate"><span class="pre">icudt61b.dat</span></code> to support big-endian
platforms (thanks to Dimitri John Ledkov &#64;xnox).</p></li>
<li><p>[BUGFIX] #296: Out-of-the box build used to fail on CentOS 6, upgraded
<code class="docutils literal notranslate"><span class="pre">configure</span></code> to <code class="docutils literal notranslate"><span class="pre">--disable-cxx11</span></code> more eagerly at an early stage.</p></li>
<li><p>[BUGFIX] #341: Fixed possible buffer overflows when calling <code class="docutils literal notranslate"><span class="pre">strncpy()</span></code>
from within ICU 61.</p></li>
<li><p>[BUGFIX] #325: Made <code class="docutils literal notranslate"><span class="pre">configure</span></code> more portable so that it works
under <code class="docutils literal notranslate"><span class="pre">/bin/dash</span></code> now.</p></li>
<li><p>[BUGFIX] #319: Fixed overflow in <code class="docutils literal notranslate"><span class="pre">stri_rand_shuffle()</span></code>.</p></li>
<li><p>[BUGFIX] #337: Empty search patters in search functions (e.g.,
<code class="docutils literal notranslate"><span class="pre">stri_split_regex()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_count_fixed()</span></code>) used to raise
too many warnings on empty search patters.</p></li>
</ul>
</div>
<div class="section" id="id9">
<h2>1.2.4 (2018-07-20)<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] #314: Testing <code class="docutils literal notranslate"><span class="pre">U_CHARSET_IS_UTF8</span></code> in <code class="docutils literal notranslate"><span class="pre">configure</span></code> when
using <code class="docutils literal notranslate"><span class="pre">pkg-build</span></code>.</p></li>
<li><p>[BUILD TIME] #317: Included <code class="docutils literal notranslate"><span class="pre">icudt61l.zip</span></code> in the source bundle to solve
the frequent <code class="docutils literal notranslate"><span class="pre">icudt</span> <span class="pre">download</span> <span class="pre">failed</span></code> error (also on CRAN’s <code class="docutils literal notranslate"><span class="pre">windows-release</span></code>
and <code class="docutils literal notranslate"><span class="pre">windows-oldrel</span></code>). (reverted in version 1.3.1, the <code class="docutils literal notranslate"><span class="pre">winbuilder</span></code>
errors were caused by a build chain bug).</p></li>
</ul>
</div>
<div class="section" id="id10">
<h2>1.2.3 (2018-05-16)<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] #296: Fixed the behaviour of the <code class="docutils literal notranslate"><span class="pre">configure</span></code> script on CentOS 6.</p></li>
<li><p>[BUGFIX] Fixed broken Windows build by updating the <code class="docutils literal notranslate"><span class="pre">icudt</span></code> mirror list.</p></li>
</ul>
</div>
<div class="section" id="id11">
<h2>1.2.2 (2018-05-01)<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[GENERAL] #193: stringi is now bundled with ICU4C 61.1,
which is used on most Windows and OS X builds as well as on *nix systems
not equipped with ICU. However, if the C++11 support is disabled,
stringi will be built against ICU4C 55.1. The update to ICU brings
Unicode 10.0 support, including new emoji characters.</p></li>
<li><p>[BUGFIX] #288: <code class="docutils literal notranslate"><span class="pre">stri_match()</span></code> did not return the correct number of columns
when input was empty.</p></li>
<li><p>[NEW FEATURE] #188: <code class="docutils literal notranslate"><span class="pre">stri_enc_detect()</span></code> now returns a list of data frames.</p></li>
<li><p>[NEW FEATURE] #289: <code class="docutils literal notranslate"><span class="pre">stri_flatten()</span></code> how has <code class="docutils literal notranslate"><span class="pre">na_empty</span></code> and <code class="docutils literal notranslate"><span class="pre">omit_empty</span></code>
arguments.</p></li>
<li><p>[NEW FEATURE] New functions: <code class="docutils literal notranslate"><span class="pre">stri_remove_empty()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_na2empty()</span></code>.</p></li>
<li><p>[NEW FEATURE] #285: Coercion from a non-trivial list (one that consists
of atomic vectors, each of length 1) to an atomic vector now issues a warning.</p></li>
<li><p>[WARN] Removed <code class="docutils literal notranslate"><span class="pre">-Wparentheses</span></code> warnings in <code class="docutils literal notranslate"><span class="pre">icu55/common/cstring.h:38:63</span></code>
and <code class="docutils literal notranslate"><span class="pre">icu55/i18n/windtfmt.cpp</span></code> in the ICU4C 55.1 bundle.</p></li>
</ul>
</div>
<div class="section" id="id12">
<h2>1.1.7 (2018-03-06)<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] Fixed ICU4C 55.1 generating some <em>significant warnings</em>
(<code class="docutils literal notranslate"><span class="pre">icu55/i18n/winnmfmt.cpp</span></code>) and <em>suppressing important diagnostics</em>
(<code class="docutils literal notranslate"><span class="pre">src/icu55/i18n/decNumber.c</span></code>).</p></li>
</ul>
</div>
<div class="section" id="id13">
<h2>1.1.6 (2017-11-10)<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[WINDOWS SPECIFIC] #270: Strings marked with <code class="docutils literal notranslate"><span class="pre">latin1</span></code> encoding
are now converted internally to UTF-8 using the WINDOWS-1252 codec.
This fixes problems with - among others - displaying the Euro sign.</p></li>
<li><p>[NEW FEATURE] #263: Added support for custom rule-based break iteration,
see <code class="docutils literal notranslate"><span class="pre">?stri_opts_brkiter</span></code>.</p></li>
<li><p>[NEW FEATURE] #267: <code class="docutils literal notranslate"><span class="pre">omit_na=TRUE</span></code> in <code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code> now ignores missing
values in any of the arguments provided.</p></li>
<li><p>[BUGFIX] Fixed unPROTECTed variable names and stack imbalances
as reported by <code class="docutils literal notranslate"><span class="pre">rchk</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id14">
<h2>1.1.5 (2017-04-07)<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[GENERAL] stringi now requires ICU4C &gt;= 52.</p></li>
<li><p>[BUGFIX] Fixed errors pointed out by <code class="docutils literal notranslate"><span class="pre">clang-UBSAN</span></code> in <code class="docutils literal notranslate"><span class="pre">stri_brkiter.h</span></code>.</p></li>
<li><p>[GENERAL] stringi now requires R &gt;= 2.14.</p></li>
<li><p>[BUILD TIME] #238, #220: Now trying <em>standard</em> ICU4C build flags if a call
to <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> fails.</p></li>
<li><p>[BUILD TIME] #258: Use <code class="docutils literal notranslate"><span class="pre">CXX11</span></code> instead of <code class="docutils literal notranslate"><span class="pre">CXX1X</span></code> on R &gt;= 3.4.</p></li>
<li><p>[BUILD TIME, BUGFIX] #254: <code class="docutils literal notranslate"><span class="pre">dir.exists()</span></code> is R &gt;= 3.2.</p></li>
</ul>
</div>
<div class="section" id="id15">
<h2>1.1.3 (2017-03-21)<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[REMOVE DEPRECATED] <code class="docutils literal notranslate"><span class="pre">stri_install_check()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_install_icudt()</span></code>
marked as deprecated in stringi 0.5-5 are no longer being exported.</p></li>
<li><p>[BUGFIX] #227: Incorrect behaviour of <code class="docutils literal notranslate"><span class="pre">stri_sub()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code>
if the empty string was the result.</p></li>
<li><p>[BUILD TIME] #231: The <code class="docutils literal notranslate"><span class="pre">configure</span></code> (Linux/Unix only) script now reads the
following environment variables: <code class="docutils literal notranslate"><span class="pre">STRINGI_CFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">STRINGI_CPPFLAGS</span></code>,
<code class="docutils literal notranslate"><span class="pre">STRINGI_CXXFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">STRINGI_LDFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">STRINGI_LIBS</span></code>,
<code class="docutils literal notranslate"><span class="pre">STRINGI_DISABLE_CXX11</span></code>, <code class="docutils literal notranslate"><span class="pre">STRINGI_DISABLE_ICU_BUNDLE</span></code>,
<code class="docutils literal notranslate"><span class="pre">STRINGI_DISABLE_PKG_CONFIG</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG_CONFIG</span></code>,
see <code class="docutils literal notranslate"><span class="pre">INSTALL</span></code> for more information.</p></li>
<li><p>[BUILD TIME] #253: Call to <code class="docutils literal notranslate"><span class="pre">R_useDynamicSymbols()</span></code> added.</p></li>
<li><p>[BUILD TIME] #230: <code class="docutils literal notranslate"><span class="pre">icudt</span></code> is now being downloaded by
<code class="docutils literal notranslate"><span class="pre">configure</span></code> (*NIX only) <em>before</em> building.</p></li>
<li><p>[BUILD TIME] #242: <code class="docutils literal notranslate"><span class="pre">_COUNT/_LIMIT</span></code> enum constants have been deprecated
as of ICU 58.2, stringi code has been upgraded accordingly.</p></li>
</ul>
</div>
<div class="section" id="id16">
<h2>1.1.2 (2016-09-30)<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">round()</span></code>, <code class="docutils literal notranslate"><span class="pre">snprintf()</span></code> is not C++98.</p></li>
</ul>
</div>
<div class="section" id="id17">
<h2>1.1.1 (2016-05-25)<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] #214: Allow a regex pattern like <code class="docutils literal notranslate"><span class="pre">.*</span></code>  to match an empty string.</p></li>
<li><p>[BUGFIX] #210: <code class="docutils literal notranslate"><span class="pre">stri_replace_all_fixed(c(&quot;1&quot;,</span> <span class="pre">&quot;NULL&quot;),</span> <span class="pre">&quot;NULL&quot;,</span> <span class="pre">NA)</span></code>
now results in <code class="docutils literal notranslate"><span class="pre">c(&quot;1&quot;,</span> <span class="pre">NA)</span></code>.</p></li>
<li><p>[NEW FEATURE] #199: <code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code> now allows for ignoring <code class="docutils literal notranslate"><span class="pre">NA</span></code> locations
(a new <code class="docutils literal notranslate"><span class="pre">omit_na</span></code> argument added).</p></li>
<li><p>[NEW FEATURE] #207: <code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code> now allows for substring insertions
(via <code class="docutils literal notranslate"><span class="pre">length=0</span></code>).</p></li>
<li><p>[NEW FUNCTION] #124: <code class="docutils literal notranslate"><span class="pre">stri_subset&lt;-()</span></code> functions added.</p></li>
<li><p>[NEW FEATURE] #216: <code class="docutils literal notranslate"><span class="pre">stri_detect()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_subset()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_subset&lt;-()</span></code>
now all have the <code class="docutils literal notranslate"><span class="pre">negate</span></code> argument.</p></li>
<li><p>[NEW FUNCTION] #175: <code class="docutils literal notranslate"><span class="pre">stri_join_list()</span></code> concatenates all strings
in a list of character vectors. Useful in conjunction with, e.g.,
<code class="docutils literal notranslate"><span class="pre">stri_extract_all_regex()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_extract_all_words()</span></code>, etc.</p></li>
</ul>
</div>
<div class="section" id="id18">
<h2>1.0-1 (2015-10-22)<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[GENERAL] #88: C API is now available for use in, e.g., Rcpp packages, see
https://github.com/gagolews/ExampleRcppStringi for an example.</p></li>
<li><p>[BUGFIX] #183: Floating point exception raised in <code class="docutils literal notranslate"><span class="pre">stri_sub()</span></code> and
<code class="docutils literal notranslate"><span class="pre">stri_sub&lt;-()</span></code> when <code class="docutils literal notranslate"><span class="pre">to</span></code> or <code class="docutils literal notranslate"><span class="pre">length</span></code> was a zero-length numeric vector.</p></li>
<li><p>[BUGFIX] #180: <code class="docutils literal notranslate"><span class="pre">stri_c()</span></code> warned incorrectly (recycling rule) when using more
than two elements.</p></li>
</ul>
</div>
<div class="section" id="id19">
<h2>0.5-5 (2015-06-28)<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BACKWARD INCOMPATIBILITY] <code class="docutils literal notranslate"><span class="pre">stri_install_check()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_install_icudt()</span></code>
are now deprecated. From now on they are supposed to be used only
by the stringi installer.</p></li>
<li><p>[BUGFIX] #176: A patch for <code class="docutils literal notranslate"><span class="pre">sys/feature_tests.h</span></code> no longer included
(the original file was copyrighted by Sun Microsystems); fixed the <em>Compiler
or options invalid for pre-Unix  03 X/Open applications and pre-2001 POSIX
applications</em> error by forcing (conditionally) <code class="docutils literal notranslate"><span class="pre">_XPG6</span></code> conformance.</p></li>
<li><p>[BUGFIX] #174: <code class="docutils literal notranslate"><span class="pre">stri_paste()</span></code> did not generate any warning when
the recycling rule is violated and <code class="docutils literal notranslate"><span class="pre">sep==&quot;&quot;</span></code>.</p></li>
<li><p>[BUGFIX] #170: <code class="docutils literal notranslate"><span class="pre">icu::setDataDirectory</span></code> is no longer called if our ICU
source bundle is not used (this used to cause build problems on openSUSE).</p></li>
<li><p>[BUILD TIME] #169: <code class="docutils literal notranslate"><span class="pre">configure</span></code> now tries to switch to the <em>standard</em>
C++ compiler if a C++11 one is not configured correctly.</p></li>
<li><p>[BUILD TIME] <code class="docutils literal notranslate"><span class="pre">configure.win</span></code> (<code class="docutils literal notranslate"><span class="pre">Biarch:</span> <span class="pre">TRUE</span></code>) now mimics <code class="docutils literal notranslate"><span class="pre">autoconf</span></code>’s
<code class="docutils literal notranslate"><span class="pre">AC_SUBST</span></code> and <code class="docutils literal notranslate"><span class="pre">AC_CONFIG_FILES</span></code> so that the build process is now
more similar across different platforms.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_info()</span></code> now also gives information about which version
of ICU4C is in use (system or bundle).</p></li>
</ul>
</div>
<div class="section" id="id20">
<h2>0.5-2 (2015-06-21)<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BACKWARD INCOMPATIBILITY] The second argument to <code class="docutils literal notranslate"><span class="pre">stri_pad_*()</span></code> has
been renamed <code class="docutils literal notranslate"><span class="pre">width</span></code>.</p></li>
<li><p>[GENERAL] #69: stringi is now bundled with ICU4C 55.1.</p></li>
<li><p>[NEW FUNCTIONS] <code class="docutils literal notranslate"><span class="pre">stri_extract_*_boundaries()</span></code> extract text between text
boundaries.</p></li>
<li><p>[NEW FUNCTION] #46: <code class="docutils literal notranslate"><span class="pre">stri_trans_char()</span></code> is a stringi-flavoured
<code class="docutils literal notranslate"><span class="pre">chartr()</span></code> equivalent.</p></li>
<li><p>[NEW FUNCTION] #8: <code class="docutils literal notranslate"><span class="pre">stri_width()</span></code> approximates the <em>width</em> of a string
in a more Unicode-ish fashion than <code class="docutils literal notranslate"><span class="pre">nchar(...,</span> <span class="pre">&quot;width&quot;)</span></code></p></li>
<li><p>[NEW FEATURE] #149: <code class="docutils literal notranslate"><span class="pre">stri_pad()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> is now (by default)
based on code point widths instead of the number of code points.
Moreover, the default behaviour of <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> is now such that it
does not get rid of non-breaking, zero width, etc., spaces.</p></li>
<li><p>[NEW FEATURE] #133: <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> silently allows for <code class="docutils literal notranslate"><span class="pre">width</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>
(for compatibility with <code class="docutils literal notranslate"><span class="pre">strwrap()</span></code>).</p></li>
<li><p>[NEW FEATURE] #139: <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> gained a new argument: <code class="docutils literal notranslate"><span class="pre">whitespace_only</span></code>.</p></li>
<li><p>[NEW FUNCTIONS] #137: Date-time formatting/parsing:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_timezone_list()</span></code> - lists all known time zone identifiers;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_timezone_set()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_timezone_get()</span></code> - manage the current
default time zone;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_timezone_info()</span></code> - basic information on a given time zone;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_symbols()</span></code> - gives localizable date-time formatting data;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_fstr()</span></code> - converts a <code class="docutils literal notranslate"><span class="pre">strptime</span></code>-like format string
to an ICU date/time format string;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_format()</span></code> - converts date/time to string;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_parse()</span></code> - converts string to date/time object;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_create()</span></code> - constructs date-time objects
from numeric representations;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_now()</span></code> - returns current date-time;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_fields()</span></code> - returns date-time fields’ values;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stri_datetime_add()</span></code> - adds specific number of date-time units
to a date-time object.</p></li>
</ul>
</li>
<li><p>[GENERAL] #144: Performance improvements in handling ASCII strings
(these affect <code class="docutils literal notranslate"><span class="pre">stri_sub()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_locate()</span></code> and other string index-based
operations)</p></li>
<li><p>[GENERAL] #143: Searching for short fixed patterns (<code class="docutils literal notranslate"><span class="pre">stri_*_fixed()</span></code>) now
relies on the current <code class="docutils literal notranslate"><span class="pre">libC</span></code>’s implementation of <code class="docutils literal notranslate"><span class="pre">strchr()</span></code> and <code class="docutils literal notranslate"><span class="pre">strstr()</span></code>.
This is very fast, e.g., on <code class="docutils literal notranslate"><span class="pre">glibc</span></code> using the <code class="docutils literal notranslate"><span class="pre">SSE2/3/4</span></code> instruction set.</p></li>
<li><p>[BUILD TIME] #141: A local copy of <code class="docutils literal notranslate"><span class="pre">icudt*.zip</span></code> may be used on package
install; see the <code class="docutils literal notranslate"><span class="pre">INSTALL</span></code> file for more information.</p></li>
<li><p>[BUILD TIME] #165: The <code class="docutils literal notranslate"><span class="pre">configure</span></code> option <code class="docutils literal notranslate"><span class="pre">--disable-icu-bundle</span></code>
forces the use of system ICU when building the package.</p></li>
<li><p>[BUGFIX] Locale specifiers are now normalized in a more intelligent way:
e.g., <code class="docutils literal notranslate"><span class="pre">&#64;calendar=gregorian</span></code> expands to <code class="docutils literal notranslate"><span class="pre">DEFAULT_LOCALE&#64;calendar=gregorian</span></code>.</p></li>
<li><p>[BUGFIX] #134: <code class="docutils literal notranslate"><span class="pre">stri_extract_all_words()</span></code> did not accept <code class="docutils literal notranslate"><span class="pre">simplify=NA</span></code>.</p></li>
<li><p>[BUGFIX] #132: Incorrect behaviour in <code class="docutils literal notranslate"><span class="pre">stri_locate_regex()</span></code> for matches
of zero lengths.</p></li>
<li><p>[BUGFIX] stringr/#73: <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> returned <code class="docutils literal notranslate"><span class="pre">CHARSXP</span></code> instead of <code class="docutils literal notranslate"><span class="pre">STRSXP</span></code>
on empty string input with <code class="docutils literal notranslate"><span class="pre">simplify=FALSE</span></code> argument.</p></li>
<li><p>[BUGFIX] #164: Using <code class="docutils literal notranslate"><span class="pre">libicu-dev</span></code> failed on Ubuntu
(<code class="docutils literal notranslate"><span class="pre">LIBS</span></code> shall be passed after <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code> and the list of <code class="docutils literal notranslate"><span class="pre">.o</span></code> files).</p></li>
<li><p>[BUGFIX] #168: Build now fails if <code class="docutils literal notranslate"><span class="pre">icudt</span></code> is not available.</p></li>
<li><p>[BUGFIX] #135: C++11 is now used by default (see the <code class="docutils literal notranslate"><span class="pre">INSTALL</span></code> file,
however) to build stringi from sources. This is because ICU4C uses the
<code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">long</span></code> type which is not part of the C++98 standard.</p></li>
<li><p>[BUGFIX] #154: Dates and other objects with a custom class attribute
were not coerced to the character type correctly.</p></li>
<li><p>[BUGFIX] Force ICU <code class="docutils literal notranslate"><span class="pre">u_init()</span></code> call on the stringi dynlib load.</p></li>
<li><p>[BUGFIX] #157: Many overfull <code class="docutils literal notranslate"><span class="pre">hbox</span></code>es in the package PDF manual have been
corrected.</p></li>
</ul>
</div>
<div class="section" id="id21">
<h2>0.4-1 (2014-12-11)<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">n_max</span></code> argument in <code class="docutils literal notranslate"><span class="pre">stri_split_*()</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p></li>
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">simplify=FALSE</span></code> in <code class="docutils literal notranslate"><span class="pre">stri_extract_all_*()</span></code> and
<code class="docutils literal notranslate"><span class="pre">stri_split_*()</span></code> now calls <code class="docutils literal notranslate"><span class="pre">stri_list2matrix()</span></code> with <code class="docutils literal notranslate"><span class="pre">fill=&quot;&quot;</span></code>.
<code class="docutils literal notranslate"><span class="pre">fill=NA_character_</span></code> may be obtained by using <code class="docutils literal notranslate"><span class="pre">simplify=NA</span></code>.</p></li>
<li><p>[IMPORTANT CHANGE, NEW FUNCTIONS] #120: <code class="docutils literal notranslate"><span class="pre">stri_extract_words()</span></code> has been
renamed <code class="docutils literal notranslate"><span class="pre">stri_extract_all_words()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_locate_boundaries()</span></code> -
<code class="docutils literal notranslate"><span class="pre">stri_locate_all_boundaries()</span></code> as well as <code class="docutils literal notranslate"><span class="pre">stri_locate_words()</span></code> -
<code class="docutils literal notranslate"><span class="pre">stri_locate_all_words()</span></code>. New functions are now available:
<code class="docutils literal notranslate"><span class="pre">stri_locate_first_boundaries()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_locate_last_boundaries()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_locate_first_words()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_locate_last_words()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_extract_first_words()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_extract_last_words()</span></code>.</p></li>
<li><p>[IMPORTANT CHANGE] #111: <code class="docutils literal notranslate"><span class="pre">opts_regex</span></code>, <code class="docutils literal notranslate"><span class="pre">opts_collator</span></code>, <code class="docutils literal notranslate"><span class="pre">opts_fixed</span></code>, and
<code class="docutils literal notranslate"><span class="pre">opts_brkiter</span></code> can now be supplied individually via <code class="docutils literal notranslate"><span class="pre">...</span></code>.
In other words, you may now simply call, e.g.,
<code class="docutils literal notranslate"><span class="pre">stri_detect_regex(str,</span> <span class="pre">pattern,</span> <span class="pre">case_insensitive=TRUE)</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">stri_detect_regex(str,</span> <span class="pre">pattern,</span>&#160;&#160; <span class="pre">opts_regex=stri_opts_regex(case_insensitive=TRUE))</span></code>.</p></li>
<li><p>[NEW FEATURE] #110: Fixed pattern search engine’s settings can
now be supplied via <code class="docutils literal notranslate"><span class="pre">opts_fixed</span></code> argument in <code class="docutils literal notranslate"><span class="pre">stri_*_fixed()</span></code>,
see <code class="docutils literal notranslate"><span class="pre">stri_opts_fixed()</span></code>. A simple (not suitable for natural language
processing) yet very fast <code class="docutils literal notranslate"><span class="pre">case_insensitive</span></code> pattern matching can be
performed now. <code class="docutils literal notranslate"><span class="pre">stri_extract_*_fixed()</span></code> is again available.</p></li>
<li><p>[NEW FEATURE] #23: <code class="docutils literal notranslate"><span class="pre">stri_extract_all_fixed()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_count()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">stri_locate_all_fixed()</span></code> may now also look for overlapping pattern
matches, see <code class="docutils literal notranslate"><span class="pre">?stri_opts_fixed</span></code>.</p></li>
<li><p>[NEW FEATURE] #129: <code class="docutils literal notranslate"><span class="pre">stri_match_*_regex()</span></code> gained a <code class="docutils literal notranslate"><span class="pre">cg_missing</span></code> argument.</p></li>
<li><p>[NEW FEATURE] #117: <code class="docutils literal notranslate"><span class="pre">stri_extract_all_*()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_locate_all_*()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_match_all_*()</span></code> gained a new argument: <code class="docutils literal notranslate"><span class="pre">omit_no_match</span></code>.
Setting it to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> makes these functions compatible with their
<code class="docutils literal notranslate"><span class="pre">stringr</span></code> equivalents.</p></li>
<li><p>[NEW FEATURE] #118: <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> gained <code class="docutils literal notranslate"><span class="pre">indent</span></code>, <code class="docutils literal notranslate"><span class="pre">exdent</span></code>, <code class="docutils literal notranslate"><span class="pre">initial</span></code>,
and <code class="docutils literal notranslate"><span class="pre">prefix</span></code> arguments. Moreover, Knuth’s dynamic word wrapping algorithm
now assumes that the cost of printing the last line is zero, see #128.</p></li>
<li><p>[NEW FEATURE] #122: <code class="docutils literal notranslate"><span class="pre">stri_subset()</span></code> gained an <code class="docutils literal notranslate"><span class="pre">omit_na</span></code> argument.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_list2matrix()</span></code> gained an <code class="docutils literal notranslate"><span class="pre">n_min</span></code> argument.</p></li>
<li><p>[NEW FEATURE] #126: <code class="docutils literal notranslate"><span class="pre">stri_split()</span></code> is now also able to act
just like <code class="docutils literal notranslate"><span class="pre">stringr::str_split_fixed()</span></code>.</p></li>
<li><p>[NEW FEATURE] #119:  <code class="docutils literal notranslate"><span class="pre">stri_split_boundaries()</span></code> now has
<code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">tokens_only</span></code>, and <code class="docutils literal notranslate"><span class="pre">simplify</span></code> arguments. Additionally,
<code class="docutils literal notranslate"><span class="pre">stri_extract_all_words()</span></code> is now equipped with <code class="docutils literal notranslate"><span class="pre">simplify</span></code> arg.</p></li>
<li><p>[NEW FEATURE] #116: <code class="docutils literal notranslate"><span class="pre">stri_paste()</span></code> gained a new argument:
<code class="docutils literal notranslate"><span class="pre">ignore_null</span></code>. Setting it to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> makes this function more compatible
with <code class="docutils literal notranslate"><span class="pre">paste()</span></code>.</p></li>
<li><p>[OTHER] #123: <code class="docutils literal notranslate"><span class="pre">useDynLib</span></code> is used to speed up symbol look-up in
the compiled dynamic library.</p></li>
<li><p>[BUGFIX] #114: <code class="docutils literal notranslate"><span class="pre">stri_paste()</span></code>: could return result in an incorrect order.</p></li>
<li><p>[BUGFIX]  #94: Run-time errors on Solaris caused by setting
<code class="docutils literal notranslate"><span class="pre">-DU_DISABLE_RENAMING=1</span></code> - memory allocation errors in, among others,
the ICU <code class="docutils literal notranslate"><span class="pre">UnicodeString</span></code>. This setting also caused some <code class="docutils literal notranslate"><span class="pre">ASAN</span></code> sanity check
failures within ICU code.</p></li>
</ul>
</div>
<div class="section" id="id22">
<h2>0.3-1 (2014-11-06)<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[IMPORTANT CHANGE] #87: <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> overlapped with the pipe operator from
the <code class="docutils literal notranslate"><span class="pre">magrittr</span></code> package; now each operator like <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">%s&gt;%</span></code>.</p></li>
<li><p>[IMPORTANT CHANGE] #108: Now the <code class="docutils literal notranslate"><span class="pre">BreakIterator</span></code> (for text boundary analysis)
may be more easily controlled via <code class="docutils literal notranslate"><span class="pre">stri_opts_brkiter()</span></code> (see options <code class="docutils literal notranslate"><span class="pre">type</span></code>
and <code class="docutils literal notranslate"><span class="pre">locale</span></code> which aim to replace now-removed <code class="docutils literal notranslate"><span class="pre">boundary</span></code> and <code class="docutils literal notranslate"><span class="pre">locale</span></code>
parameters to <code class="docutils literal notranslate"><span class="pre">stri_locate_boundaries()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_split_boundaries()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_trans_totitle()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_extract_words()</span></code>, and <code class="docutils literal notranslate"><span class="pre">stri_locate_words()</span></code>).</p></li>
<li><p>[NEW FUNCTIONS] #109: <code class="docutils literal notranslate"><span class="pre">stri_count_boundaries()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_count_words()</span></code>
count the number of text boundaries in a string.</p></li>
<li><p>[NEW FUNCTIONS] #41: <code class="docutils literal notranslate"><span class="pre">stri_startswith_*()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_endswith_*()</span></code>
determine whether a string starts or ends with a given pattern.</p></li>
<li><p>[NEW FEATURE] #102: <code class="docutils literal notranslate"><span class="pre">stri_replace_all_*()</span></code> now all have the <code class="docutils literal notranslate"><span class="pre">vectorize_all</span></code>
parameter, which defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> for backward compatibility.</p></li>
<li><p>[NEW FUNCTION] #91: Added <code class="docutils literal notranslate"><span class="pre">stri_subset_*()</span></code> - a convenient and more efficient
substitute for <code class="docutils literal notranslate"><span class="pre">str[stri_detect_*(str,</span> <span class="pre">...)]</span></code>.</p></li>
<li><p>[NEW FEATURE] #100: <code class="docutils literal notranslate"><span class="pre">stri_split_fixed()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_split_charclass()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_split_regex()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_split_coll()</span></code> gained a <code class="docutils literal notranslate"><span class="pre">tokens_only</span></code> parameter,
which defaults to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> for backward compatibility.</p></li>
<li><p>[NEW FUNCTION] #105: <code class="docutils literal notranslate"><span class="pre">stri_list2matrix()</span></code> converts lists of atomic vectors
to character matrices, useful in conjunction with <code class="docutils literal notranslate"><span class="pre">stri_split()</span></code>
and <code class="docutils literal notranslate"><span class="pre">stri_extract()</span></code>.</p></li>
<li><p>[NEW FEATURE] #107: <code class="docutils literal notranslate"><span class="pre">stri_split_*()</span></code> now allow
setting an <code class="docutils literal notranslate"><span class="pre">omit_empty=NA</span></code> argument.</p></li>
<li><p>[NEW FEATURE] #106: <code class="docutils literal notranslate"><span class="pre">stri_split()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_extract_all()</span></code>
gained a <code class="docutils literal notranslate"><span class="pre">simplify</span></code> argument
(if <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, then <code class="docutils literal notranslate"><span class="pre">stri_list2matrix(...,</span> <span class="pre">byrow=TRUE)</span></code>
is called on the resulting list).</p></li>
<li><p>[NEW FUNCTION] #77: <code class="docutils literal notranslate"><span class="pre">stri_rand_lipsum()</span></code> generates
a (pseudo)random dummy <em>lorem ipsum</em> text.</p></li>
<li><p>[NEW FEATURE] #98: <code class="docutils literal notranslate"><span class="pre">stri_trans_totitle()</span></code> gained a <code class="docutils literal notranslate"><span class="pre">opts_brkiter</span></code>
parameter; it indicates which ICU <code class="docutils literal notranslate"><span class="pre">BreakIterator</span></code> should be used when
case mapping.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> gained a new parameter: <code class="docutils literal notranslate"><span class="pre">normalize</span></code>.</p></li>
<li><p>[BUGFIX] #86: <code class="docutils literal notranslate"><span class="pre">stri_*_fixed()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_*_coll()</span></code>, and <code class="docutils literal notranslate"><span class="pre">stri_*_regex()</span></code> could
give incorrect results if one of search strings were of length 0.</p></li>
<li><p>[BUGFIX] #99: <code class="docutils literal notranslate"><span class="pre">stri_replace_all()</span></code> did not use the <code class="docutils literal notranslate"><span class="pre">replacement</span></code> arg.</p></li>
<li><p>[BUGFIX] #112: Some of the objects were not PROTECTed from
garbage collection - this could have led to spontaneous SEGFAULTS.</p></li>
<li><p>[BUGFIX] Some collator’s options were not passed correctly to ICU services.</p></li>
<li><p>[BUGFIX] Memory leaks as detected by
<code class="docutils literal notranslate"><span class="pre">valgrind</span> <span class="pre">--tool=memcheck</span> <span class="pre">--leak-check=full</span></code> have been removed.</p></li>
<li><p>[DOCUMENTATION] Significant extensions/clean ups in the stringi manual.</p></li>
</ul>
</div>
<div class="section" id="id23">
<h2>0.2-5 (2014-05-16)<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Some examples are no longer run if <code class="docutils literal notranslate"><span class="pre">icudt</span></code> is not available
(this was reverted in a future version though).</p></li>
</ul>
</div>
<div class="section" id="id24">
<h2>0.2-4 (2014-05-15)<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[BUGFIX] Fixed issues with loading of misaligned addresses
in <code class="docutils literal notranslate"><span class="pre">stri_*_fixed()</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id25">
<h2>0.2-3 (2014-05-14)<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">stri_cmp*()</span></code> now do not allow for passing
<code class="docutils literal notranslate"><span class="pre">opts_collator=NA</span></code>. From now on, <code class="docutils literal notranslate"><span class="pre">stri_cmp_eq()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp_neq()</span></code>,
and the new operators <code class="docutils literal notranslate"><span class="pre">%===%</span></code>, <code class="docutils literal notranslate"><span class="pre">%!==%</span></code>, <code class="docutils literal notranslate"><span class="pre">%stri===%</span></code>, and <code class="docutils literal notranslate"><span class="pre">%stri!==%</span></code>
are locale-independent operations, which base on code point comparisons.
New functions <code class="docutils literal notranslate"><span class="pre">stri_cmp_equiv()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_cmp_nequiv()</span></code>
(and from now on also <code class="docutils literal notranslate"><span class="pre">%==%</span></code>, <code class="docutils literal notranslate"><span class="pre">%!=%</span></code>, <code class="docutils literal notranslate"><span class="pre">%stri==%</span></code>, and <code class="docutils literal notranslate"><span class="pre">%stri!=%</span></code>)
test for canonical equivalence.</p></li>
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">stri_*_fixed()</span></code> search functions now perform
a locale-independent exact (byte-wise, of course after conversion to UTF-8)
pattern search. All the <code class="docutils literal notranslate"><span class="pre">Collator</span></code>-based, locale-dependent search routines
are now available via <code class="docutils literal notranslate"><span class="pre">stri_*_coll()</span></code>. The reason behind this is that
ICU’s <code class="docutils literal notranslate"><span class="pre">USearch</span></code> has currently very poor performance. What is more,
in many search tasks exact pattern matching is sufficient anyway.</p></li>
<li><p>[GENERAL] <code class="docutils literal notranslate"><span class="pre">stri_*_fixed</span></code> now use a tweaked Knuth-Morris-Pratt search
algorithm which improves the search performance drastically.</p></li>
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">stri_enc_nf*()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_enc_isnf*()</span></code> function families
have been renamed <code class="docutils literal notranslate"><span class="pre">stri_trans_nf*()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_trans_isnf*()</span></code>,
respectively – they deal with text transforming,
and not with character encoding. Note that all of these may
be performed by ICU’s <code class="docutils literal notranslate"><span class="pre">Transliterator</span></code> too (see below).</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_trans_general()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_trans_list()</span></code> give access
to ICU’s <code class="docutils literal notranslate"><span class="pre">Transliterator</span></code>: they may be used to perform some generic
text transforms, like Unicode normalisation, case folding, etc.</p></li>
<li><p>[NEW FUNCTION <code class="docutils literal notranslate"><span class="pre">stri_split_boundaries()</span></code> uses ICU’s <code class="docutils literal notranslate"><span class="pre">BreakIterator</span></code>
to split strings at specific text boundaries. Moreover,
<code class="docutils literal notranslate"><span class="pre">stri_locate_boundaries()</span></code> indicates positions of these boundaries.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_extract_words()</span></code> uses ICU’s <code class="docutils literal notranslate"><span class="pre">BreakIterator</span></code> to
extract all words from a text. Additionally, <code class="docutils literal notranslate"><span class="pre">stri_locate_words()</span></code>
locates start and end positions of words in a text.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_pad()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_pad_left()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_pad_right()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">stri_pad_both()</span></code> pad a string with a specific code point.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_wrap()</span></code> breaks paragraphs of text into lines.
Two algorithms (greedy and minimal raggedness) are available.</p></li>
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">stri_*_charclass()</span></code> search functions now
rely solely on ICU’s <code class="docutils literal notranslate"><span class="pre">UnicodeSet</span></code> patterns. All the previously accepted
charclass identifiers became invalid. However, new patterns
should now be more familiar to the users (they are regex-like).
Moreover, we observe a very nice performance gain.</p></li>
<li><p>[IMPORTANT CHANGE] <code class="docutils literal notranslate"><span class="pre">stri_sort()</span></code> now does not include <code class="docutils literal notranslate"><span class="pre">NA</span></code>s
in output vectors by default, for compatibility with <code class="docutils literal notranslate"><span class="pre">sort()</span></code>.
Moreover, currently none of the input vector’s attributes are preserved.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_unique()</span></code> extracts unique elements from
a character vector.</p></li>
<li><p>[NEW FUNCTIONS] <code class="docutils literal notranslate"><span class="pre">stri_duplicated()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_duplicated_any()</span></code>
determine duplicate elements in a character vector.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_replace_na()</span></code> replaces <code class="docutils literal notranslate"><span class="pre">NA</span></code>s in a character vector
with a given string, useful for emulating, e.g., R’s <code class="docutils literal notranslate"><span class="pre">paste()</span></code> behaviour.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_rand_shuffle()</span></code> generates a random permutation
of code points in a string.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_rand_strings()</span></code> generates random strings.</p></li>
<li><p>[NEW FUNCTIONS] New functions and binary operators for string comparison:
<code class="docutils literal notranslate"><span class="pre">stri_cmp_eq()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp_neq()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp_lt()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp_le()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_cmp_gt()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp_ge()</span></code>, <code class="docutils literal notranslate"><span class="pre">%==%</span></code>, <code class="docutils literal notranslate"><span class="pre">%!=%</span></code>, <code class="docutils literal notranslate"><span class="pre">%&lt;%</span></code>, <code class="docutils literal notranslate"><span class="pre">%&lt;=%</span></code>,
<code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>, <code class="docutils literal notranslate"><span class="pre">%&gt;=%</span></code>.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_enc_mark()</span></code> reads declared encodings of character
strings as seen by stringi.</p></li>
<li><p>[NEW FUNCTION] <code class="docutils literal notranslate"><span class="pre">stri_enc_tonative(str)</span></code> is an alias to
<code class="docutils literal notranslate"><span class="pre">stri_encode(str,</span> <span class="pre">NULL,</span> <span class="pre">NULL)</span></code>.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_order()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_sort()</span></code> now have an additional
argument <code class="docutils literal notranslate"><span class="pre">na_last</span></code> (defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> and <code class="docutils literal notranslate"><span class="pre">NA</span></code>, respectively).</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_replace_all_charclass()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_extract_all_charclass()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">stri_locate_all_charclass()</span></code> now have a new argument, <code class="docutils literal notranslate"><span class="pre">merge</span></code>
(defaults to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> for backward-compatibility). It may be used
to, e.g., replace sequences of white spaces with a single space.</p></li>
<li><p>[NEW FEATURE] <code class="docutils literal notranslate"><span class="pre">stri_enc_toutf8()</span></code> now has a new <code class="docutils literal notranslate"><span class="pre">validate</span></code> argument
(which defaults to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> for backward-compatibility). It may be used
in a (rare) case where a user wants to fix an invalid UTF-8 byte sequence.
<code class="docutils literal notranslate"><span class="pre">stri_length()</span></code> (among others) now detects invalid UTF-8 byte sequences.</p></li>
<li><p>[NEW FEATURE] All binary operators <code class="docutils literal notranslate"><span class="pre">%???%</span></code> now also have aliases <code class="docutils literal notranslate"><span class="pre">%stri???%</span></code>.</p></li>
<li><p>[GENERAL] Performance improvements in <code class="docutils literal notranslate"><span class="pre">StriContainerUTF8</span></code>
and <code class="docutils literal notranslate"><span class="pre">StriContainerUTF16</span></code> (they affect most other functions).</p></li>
<li><p>[GENERAL] Significant performance improvements in <code class="docutils literal notranslate"><span class="pre">stri_join()</span></code>,
<code class="docutils literal notranslate"><span class="pre">stri_flatten()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_cmp()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_trans_to*()</span></code>, and others.</p></li>
<li><p>[GENERAL] Added 3rd mirror site for our <code class="docutils literal notranslate"><span class="pre">icudt</span></code> binary distribution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">U_MISSING_RESOURCE_ERROR</span></code> message in <code class="docutils literal notranslate"><span class="pre">StriException</span></code> now suggests
calling <code class="docutils literal notranslate"><span class="pre">stri_install_check()</span></code>.</p></li>
<li><p>[BUGFIX] UTF-8 BOMs are now silently removed from input strings.</p></li>
<li><p>[BUGFIX] No more attempts to re-encode UTF-8 encoded strings
if native encoding is UTF-8 in <code class="docutils literal notranslate"><span class="pre">StriContainerUTF8</span></code>.</p></li>
<li><p>[BUGFIX] Possible memory leaks when throwing errors via <code class="docutils literal notranslate"><span class="pre">Rf_error()</span></code>.</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_order()</span></code> and <code class="docutils literal notranslate"><span class="pre">stri_cmp()</span></code> could return incorrect results
for <code class="docutils literal notranslate"><span class="pre">opts_collator=NA</span></code>.</p></li>
<li><p>[BUGFIX] <code class="docutils literal notranslate"><span class="pre">stri_sort()</span></code> did not guarantee to return strings in UTF-8.</p></li>
</ul>
</div>
<div class="section" id="id26">
<h2>0.1-25 (2014-03-12)<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>LICENSE tweaks.</p></li>
<li><p>First CRAN release.</p></li>
</ul>
</div>
<div class="section" id="id27">
<h2>0.1-24 (2014-03-11)<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fixed bugs detected with <code class="docutils literal notranslate"><span class="pre">ASAN</span></code> and <code class="docutils literal notranslate"><span class="pre">UBSAN</span></code>,
e.g., fixed <code class="docutils literal notranslate"><span class="pre">CharClass::gcmask</span></code> type (<code class="docutils literal notranslate"><span class="pre">enum</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>)
(reported by <code class="docutils literal notranslate"><span class="pre">UBSAN</span></code>).</p></li>
<li><p>Fixed array over-runs detected with <code class="docutils literal notranslate"><span class="pre">valgrind</span></code> in <code class="docutils literal notranslate"><span class="pre">string8.h</span></code>.</p></li>
<li><p>Fixed uninitialised class fields in <code class="docutils literal notranslate"><span class="pre">StriContainerUTF8</span></code>
(reported by <code class="docutils literal notranslate"><span class="pre">valgrind</span></code>).</p></li>
</ul>
</div>
<div class="section" id="id28">
<h2>0.1-23 (2014-03-11)<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>License changed to BSD-3-clause, COPYRIGHTS updated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icudt</span></code> is not shipped with stringi anymore;
it is now downloaded in <code class="docutils literal notranslate"><span class="pre">install.libs.R</span></code> from one of our servers.</p></li>
<li><p>New functions: <code class="docutils literal notranslate"><span class="pre">stri_install_check()</span></code>, <code class="docutils literal notranslate"><span class="pre">stri_install_icudt()</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id29">
<h2>0.1-22 (2014-02-20)<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>System ICU is used on systems which do have one (version &gt;= 50 needed).
ICU is auto-detected with <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> in <code class="docutils literal notranslate"><span class="pre">configure</span></code>.
Pass <code class="docutils literal notranslate"><span class="pre">'--disable-pkg-config'</span></code> to <code class="docutils literal notranslate"><span class="pre">configure</span></code> to force building
ICU from sources.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icudt52b</span></code> (custom subset) is now shipped with stringi
(for big-endian, ASCII systems).</p></li>
</ul>
</div>
<div class="section" id="id30">
<h2>0.1-21 (2014-02-19)<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fixed some issues on Solaris while preparing stringi
for CRAN submission.</p></li>
</ul>
</div>
<div class="section" id="id31">
<h2>0.1-20 (2014-02-17)<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ICU4C 52.1 sources included (common, i18n, stubdata + <code class="docutils literal notranslate"><span class="pre">icu52dt.dat</span></code>
loaded dynamically). Compilation via Makevars.</p></li>
<li><p>stringi does not depend on any external libraries anymore.</p></li>
</ul>
</div>
<div class="section" id="id32">
<h2>0.1-11 (2013-11-16)<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ICU4C is now statically linked on Windows.</p></li>
<li><p>First OS X binary build.</p></li>
<li><p>The package is being intensively tested by our students at Warsaw
University of Technology.</p></li>
</ul>
</div>
<div class="section" id="id33">
<h2>0.1-10 (2013-11-13)<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> via <code class="docutils literal notranslate"><span class="pre">configure</span></code> to look for ICU4C libs.</p></li>
</ul>
</div>
<div class="section" id="id34">
<h2>0.1-6 (2013-07-05)<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>First Windows binary build.</p></li>
<li><p>Compilation passed on Oracle Sun Studio compiler collection.</p></li>
<li><p>By now we have implemented most of the functionality
scheduled for milestone 0.1.</p></li>
</ul>
</div>
<div class="section" id="id35">
<h2>0.1-1 (2013-01-05)<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The stringi project has been started.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="install.html" class="btn btn-neutral float-right" title="Installing stringi" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="rapi/stri_write_lines.html" class="btn btn-neutral float-left" title="stri_write_lines: Write Text Lines to a Text File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2013-2021, Marek Gagolewski.
      <span class="lastupdated">
        Last updated on 2021-06-16T18:05:34+1000.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>